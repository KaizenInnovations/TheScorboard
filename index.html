<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAIZEN x FF - Canvas Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevent scrollbars from canvas resizing */
        }
        #dashboard-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        canvas {
            background-color: #111827; /* bg-gray-900 */
        }
    </style>
</head>
<body class="bg-gray-900">

    <div id="dashboard-container">
        <canvas id="dashboardCanvas"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('dashboardCanvas');
        const ctx = canvas.getContext('2d');

        // --- STATE & CONFIG ---
        let state = {
            foundation_monthly: 0, accelerator_monthly: 0, vip_monthly: 0, pif_clients: 0,
            online_coaching: 0, livestream: 0, onlyfans: 0
        };

        const config = {
            prices: {
                foundation_monthly: 520, accelerator_monthly: 720, vip_monthly: 880, pif_clients: 684,
                online_coaching: 15, livestream: 20, onlyfans: 10
            },
            hours: {
                foundation_monthly: 8, accelerator_monthly: 12, vip_monthly: 16, pif_clients: 12,
                online_coaching: 10/60, livestream: 2/60, onlyfans: 1/60
            }
        };

        let interactiveElements = {}; // To store clickable areas

        // --- UTILITY FUNCTIONS ---
        function drawRoundedRect(x, y, width, height, radius, color) {
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
            ctx.fill();
        }

        // --- DRAWING LOGIC ---
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            interactiveElements = {}; // Reset clickable areas for redraw

            const isMobile = canvas.width < 1024;
            const padding = canvas.width * 0.05;
            let currentY = padding;

            // Header
            ctx.fillStyle = '#F59E0B'; // amber-400
            ctx.font = `900 ${isMobile ? '28px' : '40px'} Inter`;
            ctx.textAlign = 'center';
            ctx.fillText('KAIZEN x FF // REVENUE DASHBOARD', canvas.width / 2, currentY);
            currentY += isMobile ? 20 : 30;
            ctx.fillStyle = '#6B7280'; // gray-500
            ctx.font = `400 ${isMobile ? '14px' : '18px'} Inter`;
            ctx.fillText('THE GODDAMN COMMAND CENTER', canvas.width / 2, currentY);
            currentY += padding;

            const mainWidth = canvas.width - (padding * 2);
            const totalsWidth = isMobile ? mainWidth : mainWidth * 0.3;
            const inputsWidth = isMobile ? mainWidth : mainWidth * 0.65;
            const startX = padding;
            let inputsY = currentY;
            let totalsY = currentY;

            // --- Totals Column ---
            const totalsX = isMobile ? startX : startX + inputsWidth + (mainWidth * 0.05);
            drawTotals(totalsX, totalsY, totalsWidth);

            // --- Inputs Column ---
            const inputsStartX = isMobile ? startX : startX;
            if (isMobile) {
               inputsY = document.getElementById('totals-container-end-y')?.value || currentY + 350; // Use stored Y pos
            }
            inputsY = drawInputGroup(inputsStartX, inputsY, inputsWidth, 'KAIZEN BODY WORKS', '#F59E0B', [
                { id: 'foundation_monthly', label: 'Foundation Monthly' },
                { id: 'accelerator_monthly', label: 'Accelerator Monthly' },
                { id: 'vip_monthly', label: 'VIP Monthly' },
                { id: 'pif_clients', label: 'Paid-In-Full Clients' },
            ]);
            inputsY += 30;
            drawInputGroup(inputsStartX, inputsY, inputsWidth, 'FUCKING FITNESS', '#EC4899', [
                { id: 'online_coaching', label: 'Online Coaching Pkg' },
                { id: 'livestream', label: 'Livestream Addon' },
                { id: 'onlyfans', label: 'Onlyfans Sub' },
            ]);
        }
        
        function drawTotals(x, y, width) {
            const height = 320;
            drawRoundedRect(x, y, width, height, 16, '#1F2937'); // bg-gray-800
            
            let totalRevenue = 0, totalHours = 0, totalClients = 0;
            for(const id in state) {
                const count = state[id];
                totalClients += count;
                totalRevenue += count * config.prices[id];
                totalHours += count * config.hours[id];
            }
            const annualRevenue = totalRevenue * 12;

            ctx.fillStyle = '#6B7280';
            ctx.font = '700 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('TOTALS', x + width / 2, y + 40);

            drawTotalItem(x, y + 80, width, 'TOTAL CLIENTS & SUBS', totalClients.toFixed(0));
            drawTotalItem(x, y + 140, width, 'PROJECTED MONTHLY', `$${totalRevenue.toFixed(2)}`);
            drawTotalItem(x, y + 200, width, 'PROJECTED ANNUAL', `$${annualRevenue.toFixed(2)}`);
            drawTotalItem(x, y + 260, width, 'VARIABLE HOURS / MO', totalHours.toFixed(1));
            
            // Store end Y position for mobile layout
            const endYInput = document.createElement('input');
            endYInput.type = 'hidden';
            endYInput.id = 'totals-container-end-y';
            endYInput.value = y + height + 30;
            if (document.getElementById('totals-container-end-y')) {
                document.getElementById('totals-container-end-y').value = endYInput.value;
            } else {
                document.body.appendChild(endYInput);
            }
        }
        
        function drawTotalItem(x, y, width, label, value) {
            ctx.fillStyle = '#F59E0B';
            ctx.font = '600 14px Inter';
            ctx.fillText(label, x + width/2, y);
            ctx.fillStyle = '#FFFFFF';
            ctx.font = '900 36px Inter';
            ctx.fillText(value, x + width/2, y + 35);
        }

        function drawInputGroup(x, y, width, title, titleColor, items) {
            drawRoundedRect(x, y, width, 45 + (items.length * 60), 16, '#374151'); // bg-gray-700/30
            ctx.fillStyle = titleColor;
            ctx.font = '700 18px Inter';
            ctx.textAlign = 'left';
            ctx.fillText(title, x + 20, y + 30);
            
            let itemY = y + 55;
            items.forEach(item => {
                drawInputItem(x + 20, itemY, width - 40, item.id, item.label);
                itemY += 60;
            });
            return itemY;
        }

        function drawInputItem(x, y, width, id, label) {
            ctx.fillStyle = '#D1D5DB';
            ctx.font = '400 14px Inter';
            ctx.textAlign = 'left';
            ctx.fillText(label, x, y + 20);

            const buttonSize = 32;
            const inputWidth = 64;
            const buttonY = y;

            const plusButtonX = x + width - buttonSize;
            const inputX = plusButtonX - inputWidth - 10;
            const minusButtonX = inputX - buttonSize - 10;

            // Minus Button
            drawRoundedRect(minusButtonX, buttonY, buttonSize, buttonSize, 16, '#4B5563');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 20px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('-', minusButtonX + buttonSize / 2, buttonY + 23);
            interactiveElements[`${id}_minus`] = { x: minusButtonX, y: buttonY, w: buttonSize, h: buttonSize, action: () => { if(state[id] > 0) state[id]--; } };

            // Number Display
            drawRoundedRect(inputX, buttonY, inputWidth, buttonSize, 8, '#1F2937');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 18px Inter';
            ctx.fillText(state[id], inputX + inputWidth / 2, buttonY + 22);

            // Plus Button
            drawRoundedRect(plusButtonX, buttonY, buttonSize, buttonSize, 16, '#4B5563');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 20px Inter';
            ctx.fillText('+', plusButtonX + buttonSize / 2, buttonY + 23);
            interactiveElements[`${id}_plus`] = { x: plusButtonX, y: buttonY, w: buttonSize, h: buttonSize, action: () => { state[id]++; } };
        }

        // --- EVENT HANDLING & RESIZING ---
        function handleCanvasClick(event) {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            for (const key in interactiveElements) {
                const el = interactiveElements[key];
                if (x >= el.x && x <= el.x + el.w && y >= el.y && y <= el.y + el.h) {
                    el.action();
                    draw();
                    break;
                }
            }
        }
        
        function resizeCanvas() {
            const container = document.getElementById('dashboard-container');
            const dpr = window.devicePixelRatio || 1;
            const rect = container.getBoundingClientRect();
            
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            
            canvas.style.width = `${rect.width}px`;
            canvas.style.height = `${rect.height}px`;
            
            ctx.scale(dpr, dpr);
            draw();
        }

        window.addEventListener('resize', resizeCanvas);
        canvas.addEventListener('mousedown', handleCanvasClick);

        // Initial draw
        resizeCanvas();
    </script>
</body>
</html>
