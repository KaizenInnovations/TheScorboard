<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAIZEN x FF - Canvas Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }
        #dashboard-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        canvas {
            background-color: #111827; /* bg-gray-900 */
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-900">

    <div id="dashboard-container">
        <canvas id="dashboardCanvas"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('dashboardCanvas');
        const ctx = canvas.getContext('2d');

        // --- STATE & CONFIG ---
        let state = {
            foundation_monthly: 0, foundation_pif3: 0, foundation_pif6: 0,
            accelerator_monthly: 0, accelerator_pif3: 0, accelerator_pif6: 0,
            vip_monthly: 0, vip_pif3: 0, vip_pif6: 0,
            online_coaching: 0, livestream: 0, onlyfans: 0
        };

        const config = {
            prices: {
                foundation_monthly: 520, foundation_pif3: 520 * 3 * 0.90, foundation_pif6: 520 * 6 * 0.85,
                accelerator_monthly: 720, accelerator_pif3: 720 * 3 * 0.90, accelerator_pif6: 720 * 6 * 0.85,
                vip_monthly: 880, vip_pif3: 880 * 3 * 0.90, vip_pif6: 880 * 6 * 0.85,
                online_coaching: 15, livestream: 20, onlyfans: 10
            },
            hours: {
                foundation_monthly: 8, foundation_pif3: 8, foundation_pif6: 8,
                accelerator_monthly: 12, accelerator_pif3: 12, accelerator_pif6: 12,
                vip_monthly: 16, vip_pif3: 16, vip_pif6: 16,
                online_coaching: 10/60, livestream: 2/60, onlyfans: 1/60
            }
        };

        let interactiveElements = {};
        let mousePos = { x: -1, y: -1 };

        // --- UTILITY ---
        function drawRoundedRect(x, y, width, height, radius, color) {
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
            ctx.fill();
        }

        // --- DRAWING LOGIC ---
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            interactiveElements = {};

            const isMobile = canvas.width / (window.devicePixelRatio || 1) < 1024;
            const padding = Math.max(20, canvas.width * 0.03 / (window.devicePixelRatio || 1));
            let currentY = padding * 1.5;

            // Header
            ctx.fillStyle = '#F59E0B';
            ctx.font = `900 ${isMobile ? '24px' : '36px'} Inter`;
            ctx.textAlign = 'center';
            ctx.fillText('KAIZEN x FF // COMMAND CENTER', canvas.width / 2, currentY);
            currentY += isMobile ? 30 : 50;
            
            const mainWidth = canvas.width - (padding * 2);
            const totalsWidth = isMobile ? mainWidth : mainWidth * 0.3;
            const inputsWidth = isMobile ? mainWidth : mainWidth * 0.65;
            const startX = padding;
            
            let totalsHeight = drawTotals(isMobile ? startX : startX + inputsWidth + (mainWidth * 0.05), currentY, totalsWidth);
            
            let inputsY = currentY;
            if (isMobile) {
                inputsY += totalsHeight + 30;
            }

            let kaizenItems = [
                { id: 'foundation_monthly', label: 'Foundation Monthly' },
                { id: 'foundation_pif3', label: 'Foundation PIF3 (-10%)' },
                { id: 'foundation_pif6', label: 'Foundation PIF6 (-15%)' },
                { id: 'accelerator_monthly', label: 'Accelerator Monthly' },
                { id: 'accelerator_pif3', label: 'Accelerator PIF3 (-10%)' },
                { id: 'accelerator_pif6', label: 'Accelerator PIF6 (-15%)' },
                { id: 'vip_monthly', label: 'VIP Monthly' },
                { id: 'vip_pif3', label: 'VIP PIF3 (-10%)' },
                { id: 'vip_pif6', label: 'VIP PIF6 (-15%)' },
            ];
            
            let ffItems = [
                { id: 'online_coaching', label: 'Online Coaching Pkg' },
                { id: 'livestream', label: 'Livestream Addon' },
                { id: 'onlyfans', label: 'Onlyfans Sub' },
            ];

            inputsY = drawInputGroup(startX, inputsY, inputsWidth, 'KAIZEN BODY WORKS', '#F59E0B', kaizenItems);
            inputsY += 30;
            drawInputGroup(startX, inputsY, inputsWidth, 'FUCKING FITNESS', '#EC4899', ffItems);
        }
        
        function drawTotals(x, y, width) {
            let totalClients = 0, monthlyRevenue = 0, annualRevenue = 0, totalHours = 0;
            for(const id in state) {
                const count = state[id];
                totalClients += count;
                totalHours += count * config.hours[id];

                if (id.includes('_monthly') || id.startsWith('online') || id.startsWith('livestream') || id.startsWith('onlyfans')) {
                    monthlyRevenue += count * config.prices[id];
                    annualRevenue += count * config.prices[id] * 12;
                } else if (id.includes('_pif3')) {
                    monthlyRevenue += count * (config.prices[id] / 3);
                    annualRevenue += count * config.prices[id];
                } else if (id.includes('_pif6')) {
                    monthlyRevenue += count * (config.prices[id] / 6);
                    annualRevenue += count * config.prices[id];
                }
            }

            const totalItems = 4;
            const itemHeight = 90;
            const headerHeight = 60;
            const totalHeight = headerHeight + (totalItems * itemHeight);
            
            drawRoundedRect(x, y, width, totalHeight, 16, '#1F2937');

            ctx.fillStyle = '#D1D5DB';
            ctx.font = '700 18px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('MISSION TOTALS', x + width / 2, y + 35);
            
            let itemY = y + headerHeight;
            drawTotalItem(x, itemY, width, 'TOTAL ROSTER', totalClients.toFixed(0));
            drawTotalItem(x, itemY + itemHeight, width, 'PROJECTED MONTHLY', `$${monthlyRevenue.toFixed(2)}`);
            drawTotalItem(x, itemY + (itemHeight*2), width, 'PROJECTED ANNUAL', `$${annualRevenue.toFixed(2)}`);
            drawTotalItem(x, itemY + (itemHeight*3), width, 'VARIABLE HOURS / MO', totalHours.toFixed(1));
            
            return totalHeight;
        }
        
        function drawTotalItem(x, y, width, label, value) {
            ctx.fillStyle = '#F59E0B';
            ctx.font = '600 14px Inter';
            ctx.fillText(label, x + width/2, y + 30);
            ctx.fillStyle = '#FFFFFF';
            ctx.font = `900 ${value.length > 8 ? '28px' : '36px'} Inter`;
            ctx.fillText(value, x + width/2, y + 65);
        }

        function drawInputGroup(x, y, width, title, titleColor, items) {
            const rowHeight = 55;
            const headerHeight = 50;
            const groupHeight = headerHeight + (items.length * rowHeight);
            drawRoundedRect(x, y, width, groupHeight, 16, '#1F2937');
            ctx.fillStyle = titleColor;
            ctx.font = '700 18px Inter';
            ctx.textAlign = 'left';
            ctx.fillText(title, x + 20, y + 30);
            
            let itemY = y + headerHeight;
            items.forEach(item => {
                drawInputItem(x + 20, itemY, width - 40, item.id, item.label);
                itemY += rowHeight;
            });
            return y + groupHeight;
        }

        function drawInputItem(x, y, width, id, label) {
            ctx.fillStyle = '#D1D5DB';
            ctx.font = '400 14px Inter';
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';
            ctx.fillText(label, x, y + 16);

            const buttonSize = 32;
            const inputWidth = 64;
            const buttonY = y;

            const plusButtonX = x + width - buttonSize;
            const inputX = plusButtonX - inputWidth - 10;
            const minusButtonX = inputX - buttonSize - 10;

            const isHoverMinus = mousePos.x >= minusButtonX && mousePos.x <= minusButtonX + buttonSize && mousePos.y >= buttonY && mousePos.y <= buttonY + buttonSize;
            const isHoverPlus = mousePos.x >= plusButtonX && mousePos.x <= plusButtonX + buttonSize && mousePos.y >= buttonY && mousePos.y <= buttonY + buttonSize;
            
            drawRoundedRect(minusButtonX, buttonY, buttonSize, buttonSize, 16, isHoverMinus ? '#F59E0B' : '#4B5563');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 20px Inter';
            ctx.textAlign = 'center';
            ctx.fillText('-', minusButtonX + buttonSize / 2, buttonY + 18);
            interactiveElements[`${id}_minus`] = { x: minusButtonX, y: buttonY, w: buttonSize, h: buttonSize, action: () => { if(state[id] > 0) state[id]--; } };

            drawRoundedRect(inputX, buttonY, inputWidth, buttonSize, 8, '#111827');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 18px Inter';
            ctx.fillText(state[id], inputX + inputWidth / 2, buttonY + 17);

            drawRoundedRect(plusButtonX, buttonY, buttonSize, buttonSize, 16, isHoverPlus ? '#F59E0B' : '#4B5563');
            ctx.fillStyle = '#FFF';
            ctx.font = '700 20px Inter';
            ctx.fillText('+', plusButtonX + buttonSize / 2, buttonY + 18);
            interactiveElements[`${id}_plus`] = { x: plusButtonX, y: buttonY, w: buttonSize, h: buttonSize, action: () => { state[id]++; } };
        }

        // --- EVENT HANDLING & RESIZING ---
        function handleEvents(event) {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width / (window.devicePixelRatio || 1);
            const scaleY = canvas.height / rect.height / (window.devicePixelRatio || 1);
            const x = (event.clientX - rect.left) * scaleX;
            const y = (event.clientY - rect.top) * scaleY;
            
            if (event.type === 'mousemove') {
                mousePos = { x, y };
                let needsRedraw = false;
                for (const key in interactiveElements) {
                    const el = interactiveElements[key];
                    if (x >= el.x && x <= el.x + el.w && y >= el.y && y <= el.y + el.h) {
                        canvas.style.cursor = 'pointer';
                        needsRedraw = true;
                        break;
                    } else {
                        canvas.style.cursor = 'default';
                    }
                }
                if(needsRedraw) draw();
            }

            if (event.type === 'mousedown') {
                for (const key in interactiveElements) {
                    const el = interactiveElements[key];
                    if (x >= el.x && x <= el.x + el.w && y >= el.y && y <= el.y + el.h) {
                        el.action();
                        draw();
                        break;
                    }
                }
            }
        }
        
        function resizeCanvas() {
            const container = document.getElementById('dashboard-container');
            const dpr = window.devicePixelRatio || 1;
            const rect = container.getBoundingClientRect();
            
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            
            ctx.scale(dpr, dpr);
            draw();
        }

        window.addEventListener('resize', resizeCanvas);
        canvas.addEventListener('mousedown', handleEvents);
        canvas.addEventListener('mousemove', handleEvents);

        resizeCanvas();
    </script>
</body>
</html>

